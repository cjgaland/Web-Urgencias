<!DOCTYPE html><html lang="es"><head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GCS (adulto)</title>
<style>
:root{--c1:#0a5ea8;--c1d:#0a4c84;--bd:#e1eefc;--bg:#f7fbff;--bx:#d1d9e6;--tx:#0a4c84}
body{font-family:Roboto,Arial,sans-serif;margin:0;padding:20px}
.card{max-width:700px;margin:auto;background:#fff;border:1px solid #e5e7eb;border-radius:12px;box-shadow:0 4px 16px rgba(0,0,0,.05);padding:16px}
h1{font-size:1.25rem;margin:.25rem 0 1rem;color:var(--tx)} label{display:block;margin:.4rem 0}
select{padding:.5rem;border:1px solid #d1d9e6;border-radius:10px}
.actions{display:flex;gap:.6rem;margin-top:.9rem} .btn{padding:.6rem .9rem;border-radius:10px;border:1px solid transparent;cursor:pointer}
.btn.primary{background:#0a5ea8;color:#fff}.btn.secondary{background:#eef2f7;color:#0a4c84;border-color:#d9e2ec}
.result{margin-top:1rem;padding:.9rem;border:1px solid #e1eefc;background:#f7fbff;border-radius:10px}

*{box-sizing:border-box}
select{max-width:100%}
.actions .spacer{flex:1 1 auto}
.btn.close{margin-left:auto;background:#08406a;color:#fff;border-color:#083554}
.btn.close:hover{filter:brightness(1.05)}</style></head><body>
<div class="card">
<h1>Glasgow Coma Scale (adulto)</h1>
<label>Ocular (E)
  <select id="e">
    <option value="4">4 – Espontánea</option><option value="3">3 – Al habla</option>
    <option value="2">2 – Al dolor</option><option value="1">1 – Ninguna</option>
  </select>
</label>
<label>Verbal (V)
  <select id="v">
    <option value="5">5 – Orientado</option><option value="4">4 – Confuso</option>
    <option value="3">3 – Palabras inapropiadas</option><option value="2">2 – Sonidos incomprensibles</option>
    <option value="1">1 – Ninguna</option>
  </select>
</label>
<label>Motora (M)
  <select id="m">
    <option value="6">6 – Obedece órdenes</option><option value="5">5 – Localiza dolor</option>
    <option value="4">4 – Retirada al dolor</option><option value="3">3 – Flexión anormal</option>
    <option value="2">2 – Extensión</option><option value="1">1 – Ninguna</option>
  </select>
</label>
<div class="actions">
  <button class="btn primary" onclick="calc()">Calcular</button>
  <button class="btn secondary" onclick="copyRes()">Copiar</button>

      <span class="spacer"></span>
      <button type="button" id="closeBtn" class="btn close" title="Cerrar esta ventana">Cerrar ventana</button>
</div>
<div id="res" class="result" aria-live="polite">Selecciona y pulsa Calcular.</div>
    <p class="muted"><strong>Nota clínica:</strong> GCS 3–15: ≤8 se asocia a coma y riesgo de vía aérea; 9–12 moderado; 13–15 leve. Registrar el mejor valor observado y el patrón E–V–M.</p>

</div>
<script>
function n(id){return parseInt(document.getElementById(id).value,10)}
function calc(){const e=n('e'),v=n('v'),m=n('m');const t=e+v+m;let cat='Leve';if(t<=8)cat='Grave';else if(t<=12)cat='Moderado';document.getElementById('res').innerText=`GCS = ${t} (E${e} V${v} M${m}) → ${cat}`;}
function copyRes(){const t=document.getElementById('res').innerText||'';if(!t.trim())return alert('Sin resultado');navigator.clipboard.writeText(t);}

// Cierre inteligente
function smartClose(){
  try{
    if(window.opener && !window.opener.closed){ window.close(); return; }
  }catch(e){}
  if(history.length>1){ history.back(); }
  else{ location.href='../index.html'; } // Ajusta si tu índice está en otra ruta
}
var _cb = document.getElementById('closeBtn');
if(_cb){ _cb.addEventListener('click', smartClose); }

</script>
</body></html>
