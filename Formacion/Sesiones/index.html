<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Sesiones clínicas – Histórico · Urgencias · AGS Sur de Córdoba</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <!-- Favicon -->
  <link rel="icon" href="../favicon.ico" type="image/x-icon">
  
        <!-- Iconos móviles -->
  <link rel="apple-touch-icon" sizes="180x180" href="../../assets/favicon_transp-180.png">
  <link rel="icon" type="image/png" sizes="32x32" href="../../assets/favicon_transp-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="../../assets/favicon_transp-16.png">
  

  <!-- Fuentes / iconos -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

  <!-- Estilo global del proyecto -->
  <link rel="stylesheet" href="../../css/style.css?v=20250819-1">

  <!-- Estilo local mínimo para la rejilla (solo por si falta algo en tu CSS) -->
  <style>
    :root{--c1:#0a5ea8;--c1d:#0a4c84;--bx:#d1d9e6;--tx:#0a4c84}
    *{box-sizing:border-box}
    body{font-family:Roboto,Arial,sans-serif;margin:0;background:#fff;color:#0f172a}
    .container{max-width:1100px;margin:auto;padding:16px}
    .hero-top{display:flex;flex-direction:column;align-items:center;gap:.4rem;margin:8px 0 12px}
    .hero-top img{width:180px;height:auto;opacity:.95}
    .hero-top h1{font-size:1.05rem;margin:4px 0 0;color:var(--tx);display:flex;align-items:center;gap:.5rem}
    .hero-top h1 i{color:var(--c1)}
    .card-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:16px}
    .link-card{border:1px solid #e5e7eb;border-radius:12px;padding:14px;background:#fff;box-shadow:0 2px 8px rgba(0,0,0,.05)}
    .link-card .title{font-weight:700;color:var(--c1d);margin:0 0 6px}
    .link-description{color:#475569;font-size:.95rem;margin:.35rem 0 0}
    .actions{display:flex;gap:.5rem;flex-wrap:wrap;margin-top:.8rem}
    .btn{display:inline-flex;align-items:center;gap:.35rem;border:1px solid #d9e2ec;background:#eef2f7;color:#0a4c84;border-radius:10px;padding:.45rem .65rem;text-decoration:none}
    .btn.primary{background:var(--c1);border-color:transparent;color:#fff}
    /* Respaldo por si no cargase style.css (tú ya lo tienes) */
    .year-card{position:relative}
    .year-count{position:absolute;top:8px;right:10px;padding:.15rem .5rem;border-radius:999px;font-weight:600;font-size:.85rem;border:1px solid transparent}
    .year-count.count--has{background:#e8f2fc;color:#0a5ea8;border-color:#cfe3f8}
    .year-count.count--zero{background:#f3f4f6;color:#6b7280;border-color:#e5e7eb}
  </style>
</head>
  
<body>
  <div class="container">
    <!-- Cabecera con logo + título -->
    <div class="hero-top">
      <img src="../../images/sesiones.png" alt="Sesiones clínicas" />
      <h1><i class="fa-regular fa-calendar"></i> Sesiones clínicas · Histórico</h1>
    </div>

    <!-- Tarjetas de años -->
    <div id="grid" class="card-grid"></div>
  </div>

  <!-- Construcción de tarjetas de año -->
  <script>
    // Años publicados
    const YEARS = ["hasta-2019","2020","2021","2022","2023","2024","2025"];

    // Construye las tarjetas base con contador "0" (gris)
    const grid = document.getElementById('grid');
    YEARS.forEach(y => {
      const div = document.createElement('div');
      div.className = 'link-card year-card';
      div.dataset.year = y;
      div.innerHTML = `
        <span class="year-count count--zero">0</span>
        <div class="link-icon"><i class="fa-regular fa-calendar"></i></div>
        <div class="link-content">
          <a href="${y}/index.html" class="title">Sesiones ${y === 'hasta-2019' ? 'hasta 2019' : y}</a>
          <p class="link-description">Sesiones clínicas ${y === 'hasta-2019' ? 'hasta 2019' : y}.</p>
          <div class="actions">
            <a class="btn primary" href="${y}/index.html"><i class="fa-solid fa-folder-open"></i> Ver año</a>
            <a class="btn" href="${y}/data.js" target="_blank" rel="noopener"><i class="fa-solid fa-code"></i> data.js</a>
          </div>
        </div>
      `;
      grid.appendChild(div);
    });
  </script>

  <!-- Lógica común para contadores (reutilizable) -->
  <script src="sessions-common.js"></script>
  <script>
    // Inicializa el contador automático leyendo cada data.js del año
    Sessions.initYearCounters({
      years: ["hasta-2019","2020","2021","2022","2023","2024","2025"],
      basePath: "",                 // estamos en /Formacion/Sesiones/ → data.js está en "<año>/data.js"
      cardSelector: ".year-card",   // tarjeta del año
      badgeSelector: ".year-count"  // span del contador
    });
  </script>
</body>
</html>
